(this.webpackJsonppoll=this.webpackJsonppoll||[]).push([[0],{134:function(e,t){},136:function(e,t){},147:function(e,t){},149:function(e,t){},176:function(e,t){},178:function(e,t){},179:function(e,t){},184:function(e,t){},186:function(e,t){},205:function(e,t){},217:function(e,t){},220:function(e,t){},234:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t);var o=n(3),l=n.n(o),a=n(30),i=n.n(a),s=n(121),r=n(17),c=n(18),d=n(20),p=n(19),u=n(246),h=n(247),j=n(248),b=n(249),O=n(242),g=n(243),v=n(44),f=n(25),m=n.n(f),x=n(237),y=n(238),P=n(239),S=n(240),C=n(241),w=n(2),k=function(e){var t=e.title,n=e.description,o=e.options,l=e.errors,a=e.buttonValue,i=e.handelChange,s=e.handleOptionsChange,r=e.createOptions,c=e.deleteOption,d=e.handleSubmit;return Object(w.jsxs)(x.a,{onSubmit:d,children:[Object(w.jsxs)(y.a,{children:[Object(w.jsx)("label",{for:"title",children:"Title"}),Object(w.jsx)(P.a,{name:"title",id:"title",placeholder:"A Dummy Title",value:t,onChange:i,invalid:!!l.title}),l.title&&Object(w.jsx)(S.a,{children:l.title})]}),Object(w.jsxs)(y.a,{children:[Object(w.jsx)("label",{for:"description",children:"Description"}),Object(w.jsx)(P.a,{name:"description",type:"textarea",id:"description",placeholder:"Description  Your Poll",value:n,onChange:i,invalid:!!l.description}),l.description&&Object(w.jsx)(S.a,{children:l.description})]}),Object(w.jsxs)(y.a,{children:[Object(w.jsxs)("label",{children:["enter Your Options",Object(w.jsx)("span",{style:{marginLeft:"30px",background:"green",color:"white",padding:"5px",borderRadius:"5px",cursor:"pointer"},onClick:r,children:"Add Option"})]}),o.map((function(e,t){return Object(w.jsxs)("div",{className:"d-flex my-2",children:[Object(w.jsx)(P.a,{value:e.value,onChange:function(e){return s(e,t)},invalid:!(!l.options||!l.options[t])}),Object(w.jsx)(C.a,{color:"danger",disabled:o.length<=2,className:"ml-2",onClick:function(){return c(t)},children:"Delete"})]},e.id)}))]}),Object(w.jsx)(C.a,{children:a})]})},M=[{id:m.a.generate(),vlaue:"",vote:0},{id:m.a.generate(),vlaue:"",vote:0}],N=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))).state={title:"",description:"",options:M,errors:{}},e.handelChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.handleOptionsChange=function(t,n){var o=e.state.options;o[n].value=t.target.value,e.setState({options:o})},e.createOptions=function(){var t=e.state.options;t.length<5?(t.push({id:m.a.generate(),value:"",vote:0}),e.setState({options:t})):alert("You can Create Max 5 Options")},e.deleteOption=function(t){var n=e.state.options;n.length>2?(n.splice(t,1),e.setState({options:n})):alert("You must have at least Two Options")},e.handleSubmit=function(t){t.preventDefault();var n=e.validate(),o=n.isValid,l=n.errors;if(o){var a=e.state,i={title:a.title,description:a.description,options:a.options};e.props.isUpdate?(i.id=e.props.poll.id,e.props.submit(i),alert("Updated Successfully")):(e.props.submit(i),t.target.reset(),e.setState({title:"",description:"",options:M}))}else e.setState({errors:l})},e.validate=function(){var t={},n=e.state,o=n.title,l=n.description,a=n.options;o?o.length<20?t.title="Title Too short":!o.length>100&&(t.title="Title Too Long"):t.title="Please Provide A Title",l?!l.length>500&&(t.description="description Too long"):t.description="Please Provide A Description";var i=[];return a.forEach((function(e,t){e.value?e.value.length>100&&(i[t]="Option Text Too Long"):i[t]="Option Text Empty"})),i.length>0&&(t.options=i),{errors:t,isValid:0==Object.keys(t).length}},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.poll;e&&Object.keys(e).length>0&&this.setState({title:e.title,description:e.description,options:e.options})}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.options,o=e.description,l=e.errors;return Object(w.jsx)("div",{children:Object(w.jsx)(k,{title:t,description:o,options:n,buttonValue:this.props.buttonValue||"create poll",errors:l,handelChange:this.handelChange,handleOptionsChange:this.handleOptionsChange,handleSubmit:this.handleSubmit,deleteOption:this.deleteOption,createOptions:this.createOptions})})}}]),n}(o.Component),T=n(250),A=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))).state={name:"",selectedOption:"",errors:{}},e.hanleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var n=e.validate(),o=n.errors;n.isvalid?(e.props.getOpinion({pollId:e.props.poll.id,name:e.state.name,selectedOption:e.state.selectedOption}),t.target.reset(),e.setState({name:"",selectedOption:"",errors:{}})):e.setState({errors:o}),console.log(t)},e.validate=function(){var t={};return e.state.name?e.state.name.length>20&&(t.name="Name To Long"):t.name="Please Provide A Name",e.state.selectedOption||(t.selectedOption="Please Select One Option"),{errors:t,isvalid:0==Object.keys(t).length}},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return Object(w.jsxs)(x.a,{onSubmit:this.handleSubmit,children:[Object(w.jsxs)("div",{className:"d-flex",children:[Object(w.jsx)("h4",{children:"Options"}),Object(w.jsx)(C.a,{color:"warning",type:"button",className:"ml-auto",onClick:this.props.toggleModal,children:"Edit"}),Object(w.jsx)(C.a,{color:"danger",type:"button",className:"ml-2",onClick:function(){return e.props.deletePoll(e.props.poll.id)},children:"Delete"})]}),this.props.poll.options.map((function(t){return Object(w.jsxs)(y.a,{className:"my-2",children:[Object(w.jsxs)("label",{className:"d-flex",children:[Object(w.jsx)(T.a,{type:"radio",id:t.id,name:"selectedOption",onChange:e.hanleChange,value:t.id,invalid:!!e.state.errors.selectedOption}),t.value]}),Object(w.jsx)("span",{style:{padding:"5px 20px",background:"green",color:"white",borderRadius:"5px"},className:"ml-auto",children:t.vote}),Object(w.jsxs)("span",{style:{padding:"5px 20px",background:"orange",color:"white"},className:"ml-2",children:[e.props.poll.totalVote>0?(100*t.vote/e.props.poll.totalVote).toFixed(2):0,"%"]})]},t.id)})),Object(w.jsxs)(y.a,{className:"my-3",children:[Object(w.jsx)("label",{children:"Enter Your Name"}),Object(w.jsx)(P.a,{name:"name",placeholder:"Enter Your Name",value:this.state.value,onChange:this.hanleChange,invalid:!!this.state.errors.name}),this.state.errors.name&&Object(w.jsx)(S.a,{children:this.state.errors.name})]}),Object(w.jsx)(C.a,{type:"submit",children:"Submit Your Opinion"})]})}}]),n}(o.Component),D=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))).state={openModal:!1},e.toggleModal=function(){e.setState({openModal:!e.state.openModal})},e}return Object(c.a)(n,[{key:"render",value:function(){if(0==Object.keys(this.props.poll).length)return Object(w.jsxs)("div",{children:[Object(w.jsx)("h3",{children:"Welcome To My Application"}),Object(w.jsx)("p",{children:"You can create as many as you want. click the new button to create a new poll. to check detalis of a poll please select from the left sidebar.by selecting a poll you can check it's details, participate and check others opinion about this poll."})]});var e=this.props,t=e.poll,n=e.getOpinion,o=e.updatePoll,l=e.deletePoll;return Object(w.jsxs)("div",{children:[Object(w.jsx)("h3",{children:t.title}),Object(w.jsx)("p",{children:t.description}),Object(w.jsx)("br",{}),Object(w.jsx)(A,{poll:t,getOpinion:n,toggleModal:this.toggleModal,deletePoll:l,updatePoll:o}),Object(w.jsxs)(b.a,{isOpen:this.state.openModal,toggle:this.toggleModal,unmountOnClose:!0,children:[Object(w.jsx)(O.a,{toggle:this.toggleModal,children:"Update Poll"}),Object(w.jsx)(g.a,{children:Object(w.jsx)(N,{poll:t,isUpdate:!0,submit:o,buttonValue:"Update Poll"})})]})]})}}]),n}(o.Component),V=n(244),L=n(245),Y=function(e){return 0==e.polls.length?Object(w.jsx)("p",{children:"Ther is no Poll"}):Object(w.jsx)(V.a,{children:e.polls.map((function(t){return Object(w.jsx)(L.a,{onClick:function(){return e.selectPoll(t.id)},style:{cursor:"pointer"},children:t.title.length>30?t.title.substr(0,30)+"...":t.title},t.id)}))})},E=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))).state={openModal:!1},e.toggleModal=function(){e.setState({openModal:!e.state.openModal})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return Object(w.jsxs)("div",{style:{background:"#efefef",padding:"10px"},children:[Object(w.jsxs)("div",{className:"d-flex mb-5",children:[Object(w.jsx)(P.a,{type:"search",placeholder:"Search Your Created Poll",value:this.props.searchTerm,onChange:function(t){return e.props.handleSearch(t.target.value)}}),Object(w.jsx)(C.a,{color:"success",className:"ml-2",onClick:this.toggleModal,children:"New"})]}),Object(w.jsx)("h3",{children:"List of Polls"}),Object(w.jsx)("hr",{}),Object(w.jsx)(Y,{poll:this.props.selectPoll,polls:this.props.polls,selectPoll:this.props.selectPoll}),Object(w.jsxs)(b.a,{isOpen:this.state.openModal,toggle:this.toggleModal,unmountOnClose:!0,children:[Object(w.jsx)(O.a,{toggle:this.toggleModal,children:"Creeate A New Poll"}),Object(w.jsx)(g.a,{children:Object(w.jsx)(N,{submit:this.props.addNewPoll})})]})]})}}]),n}(o.Component),F=[{id:"01",title:"What is your favourite programming language?",description:"there are lot of popular programming languages available.Among them what is your favourite",options:[{id:"1a",value:"C programming",vote:0},{id:"1b",value:"Java",vote:0},{id:"1c",value:"JavaScript",vote:0},{id:"1d",value:"Python",vote:0}],created:new Date,totalVote:0,opinions:[]},{id:"02",title:"What is your favourite frame work language?",description:"there are lot of popular programming languages available.Among them what is your favourite",options:[{id:"2a",value:"react.js",vote:0},{id:"2b",value:"jQuery",vote:0},{id:"2c",value:"Angular",vote:0},{id:"2d",value:"Python",vote:0}],created:new Date,totalVote:0,opinions:[]}],U=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))).state={polls:[],selectedPoll:{},searchTerm:""},e.addNewPoll=function(t){t.id=m.a.generate(),t.created=new Date,t.totalVote=0,t.opinions=[],e.setState({polls:e.state.polls.concat(t)})},e.updatePoll=function(t){var n=Object(s.a)(e.state.polls);n.find((function(e){return e.id==t.id}));n.title=t.title,n.description=t.description,n.opinions=t.opinions,e.setState({polls:n})},e.deletePoll=function(t){var n=e.state.polls.filter((function(e){return e.id!==t}));e.setState({polls:n,selectedPoll:{}})},e.selectPoll=function(t){var n=e.state.polls.find((function(e){return e.id==t}));e.setState({selectedPoll:n})},e.handleSearch=function(t){e.setState({searchTerm:t})},e.performSearch=function(){return e.state.polls.filter((function(t){return t.title.toLowerCase().includes(e.state.searchTerm.toLowerCase())}))},e.getOpinion=function(t){var n=e.state.polls,o=n.find((function(e){return e.id==t.pollId}));o.options.find((function(e){return e.id==t.selectedOption})).vote++,o.totalVote++;var l={id:m.a.generate(),name:t.name,selectedOption:t.selectedOption};o.opinions.push(l),e.setState({polls:n})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.setState({polls:F})}},{key:"render",value:function(){var e=this.performSearch();return Object(w.jsx)(u.a,{className:"my-5",children:Object(w.jsxs)(h.a,{children:[Object(w.jsx)(j.a,{md:4,children:Object(w.jsx)(E,{polls:e,handleSearch:this.handleSearch,selectPoll:this.selectPoll,searchTerm:this.state.searchTerm,addNewPoll:this.addNewPoll})}),Object(w.jsx)(j.a,{md:8,children:Object(w.jsx)(D,{poll:this.state.selectedPoll,getOpinion:this.getOpinion,deletePoll:this.deletePoll,updatePoll:this.updatePoll})})]})})}}]),n}(o.Component),I=(n(234),n(235),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,251)).then((function(t){var n=t.getCLS,o=t.getFID,l=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),o(e),l(e),a(e),i(e)}))});i.a.render(Object(w.jsx)(l.a.StrictMode,{children:Object(w.jsx)(U,{})}),document.getElementById("root")),I()}},[[236,1,2]]]);
//# sourceMappingURL=main.2c496ecb.chunk.js.map